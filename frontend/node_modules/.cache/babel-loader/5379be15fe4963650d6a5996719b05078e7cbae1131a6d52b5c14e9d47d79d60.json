{"ast":null,"code":"var _jsxFileName = \"/Users/maximiliandazer/Process Control chart/Process-Control-chart/frontend/src/components/charts/PBCChart.tsx\";\nimport React from 'react';\nimport { Line } from 'react-chartjs-2';\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend } from 'chart.js';\nimport { Box, Typography } from '@mui/material';\nimport { format } from 'date-fns';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend);\n// Flow Metrics Insights component based on Vacanti's methodology\nconst FlowMetricsInsights = ({\n  analysis\n}) => {\n  const context = analysis.flowMetricsContext;\n  if (!context) return null;\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      mt: 3,\n      p: 2,\n      bgcolor: 'info.light',\n      borderRadius: 1\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      gutterBottom: true,\n      children: \"Flow Metrics Analysis (Vacanti Methodology)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body2\",\n      paragraph: true,\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Metric Type:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), \" \", context.metricType.replace('_', ' ').toUpperCase()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body2\",\n      paragraph: true,\n      children: context.analysisGuidance.interpretation\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), context.vacanti_insights && /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mt: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"subtitle2\",\n        children: [\"Predictability Assessment: \", context.vacanti_insights.assessment]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        children: context.vacanti_insights.recommendation\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n_c = FlowMetricsInsights;\nconst PBCChart = ({\n  analysis,\n  showSigmaLines = false,\n  title = \"Process Behaviour Chart (XmR)\",\n  originalData = []\n}) => {\n  const {\n    xChart,\n    mrChart,\n    signals\n  } = analysis;\n\n  // Create signal point colors based on detection rules from the document\n  const getPointColors = (dataLength, signals) => {\n    const colors = new Array(dataLength).fill('#2196F3');\n    signals.forEach(signal => {\n      signal.dataPoints.forEach(pointIndex => {\n        if (pointIndex < colors.length) {\n          // Color coding based on detection rule severity as per Vacanti's methodology\n          colors[pointIndex] = signal.severity === 'high' ? '#f44336' : signal.severity === 'moderate' ? '#ff9800' : '#ff5722';\n        }\n      });\n    });\n    return colors;\n  };\n\n  // X Chart (Individual Values Chart) configuration implementing Shewhart's formulas\n  const xChartData = {\n    labels: xChart.timestamps.map(ts => format(new Date(ts), 'MM/dd/yyyy')),\n    datasets: [{\n      label: 'Individual Values',\n      data: xChart.values,\n      borderColor: '#2196F3',\n      backgroundColor: 'transparent',\n      pointBackgroundColor: getPointColors(xChart.values.length, signals),\n      pointBorderColor: getPointColors(xChart.values.length, signals),\n      pointRadius: 4,\n      tension: 0,\n      fill: false\n    }, {\n      label: 'Average (Center Line)',\n      data: Array(xChart.values.length).fill(xChart.average),\n      borderColor: '#4CAF50',\n      borderDash: [5, 5],\n      pointRadius: 0,\n      tension: 0,\n      fill: false\n    }, {\n      label: 'Upper Natural Process Limit (UNPL)',\n      data: Array(xChart.values.length).fill(xChart.upperLimit),\n      borderColor: '#f44336',\n      borderDash: [10, 5],\n      pointRadius: 0,\n      tension: 0,\n      fill: false\n    }, {\n      label: 'Lower Natural Process Limit (LNPL)',\n      data: Array(xChart.values.length).fill(xChart.lowerLimit),\n      borderColor: '#f44336',\n      borderDash: [10, 5],\n      pointRadius: 0,\n      tension: 0,\n      fill: false\n    }]\n  };\n\n  // Add sigma lines if requested (for Western Electric Zone Tests)\n  if (showSigmaLines && xChart.sigmaLines) {\n    xChartData.datasets.push({\n      label: '2-Sigma Upper',\n      data: Array(xChart.values.length).fill(xChart.sigmaLines.twoSigmaUpper),\n      borderColor: '#FF9800',\n      borderDash: [3, 3],\n      pointRadius: 0,\n      tension: 0,\n      fill: false\n    }, {\n      label: '2-Sigma Lower',\n      data: Array(xChart.values.length).fill(xChart.sigmaLines.twoSigmaLower),\n      borderColor: '#FF9800',\n      borderDash: [3, 3],\n      pointRadius: 0,\n      tension: 0,\n      fill: false\n    }, {\n      label: '1-Sigma Upper',\n      data: Array(xChart.values.length).fill(xChart.sigmaLines.oneSigmaUpper),\n      borderColor: '#9C27B0',\n      borderDash: [2, 2],\n      pointRadius: 0,\n      tension: 0,\n      fill: false\n    }, {\n      label: '1-Sigma Lower',\n      data: Array(xChart.values.length).fill(xChart.sigmaLines.oneSigmaLower),\n      borderColor: '#9C27B0',\n      borderDash: [2, 2],\n      pointRadius: 0,\n      tension: 0,\n      fill: false\n    });\n  }\n\n  // mR Chart (Moving Range Chart) configuration\n  const mrChartData = {\n    labels: mrChart.timestamps.map(ts => format(new Date(ts), 'MM/dd/yyyy')),\n    datasets: [{\n      label: 'Moving Range',\n      data: mrChart.values,\n      borderColor: '#673AB7',\n      backgroundColor: 'transparent',\n      pointBackgroundColor: '#673AB7',\n      pointRadius: 3,\n      tension: 0,\n      fill: false\n    }, {\n      label: 'Average Moving Range',\n      data: Array(mrChart.values.length).fill(mrChart.average),\n      borderColor: '#4CAF50',\n      borderDash: [5, 5],\n      pointRadius: 0,\n      tension: 0,\n      fill: false\n    }, {\n      label: 'Upper Range Limit (URL)',\n      data: Array(mrChart.values.length).fill(mrChart.upperLimit),\n      borderColor: '#f44336',\n      borderDash: [10, 5],\n      pointRadius: 0,\n      tension: 0,\n      fill: false\n    }]\n  };\n  const chartOptions = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        position: 'top',\n        labels: {\n          filter: function (item, chart) {\n            var _item$text;\n            // Hide sigma lines from legend if not shown\n            if (!showSigmaLines && (_item$text = item.text) !== null && _item$text !== void 0 && _item$text.includes('Sigma')) {\n              return false;\n            }\n            return true;\n          }\n        }\n      },\n      tooltip: {\n        mode: 'index',\n        intersect: false,\n        callbacks: {\n          // Enhanced tooltip with task information\n          title: function (context) {\n            const pointIndex = context[0].dataIndex;\n            const timestamp = context[0].label;\n\n            // Try to get task information from original data\n            if (originalData && originalData[pointIndex]) {\n              const task = originalData[pointIndex];\n              return `${timestamp} - ${task.taskKey || 'Unknown Task'}`;\n            }\n            return timestamp || '';\n          },\n          label: function (context) {\n            const pointIndex = context.dataIndex;\n            const value = context.parsed.y;\n            const datasetLabel = context.dataset.label;\n\n            // Enhanced label for Individual Values dataset\n            if (datasetLabel === 'Individual Values') {\n              if (originalData && originalData[pointIndex]) {\n                const task = originalData[pointIndex];\n                return [`${datasetLabel}: ${value.toFixed(2)} days`, `Task: ${task.taskKey || 'Unknown'}`, `Name: ${task.taskName || 'Unnamed Task'}`, `Cycle Time: ${value.toFixed(1)} days`];\n              } else {\n                return `${datasetLabel}: ${value.toFixed(2)} days`;\n              }\n            }\n            return `${datasetLabel}: ${value.toFixed(2)}`;\n          },\n          afterLabel: function (context) {\n            // Add signal information to tooltips based on detection rules\n            const pointIndex = context.dataIndex;\n            const relevantSignals = signals.filter(signal => signal.dataPoints.includes(pointIndex));\n            if (relevantSignals.length > 0) {\n              return relevantSignals.map(signal => `🚨 Signal: ${signal.type.toUpperCase()} - ${signal.description}`);\n            }\n            return [];\n          }\n        }\n      }\n    },\n    scales: {\n      x: {\n        display: true,\n        title: {\n          display: true,\n          text: 'Completion Date'\n        }\n      },\n      y: {\n        display: true,\n        title: {\n          display: true,\n          text: 'Cycle Time (Days)'\n        }\n      }\n    },\n    interaction: {\n      mode: 'nearest',\n      axis: 'x',\n      intersect: false\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: '100%',\n      height: '900px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        textAlign: 'center',\n        marginBottom: '20px'\n      },\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: '400px',\n        marginBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          textAlign: 'center',\n          marginBottom: '10px'\n        },\n        children: \"Individual Values Chart (X Chart) - Cycle Time Analysis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: '350px'\n        },\n        children: /*#__PURE__*/_jsxDEV(Line, {\n          data: xChartData,\n          options: chartOptions\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: '300px',\n        marginBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          textAlign: 'center',\n          marginBottom: '10px'\n        },\n        children: \"Moving Range Chart (mR Chart) - Process Variation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: '250px'\n        },\n        children: /*#__PURE__*/_jsxDEV(Line, {\n          data: mrChartData,\n          options: chartOptions\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FlowMetricsInsights, {\n      analysis: analysis\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 7\n    }, this), signals.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '20px',\n        padding: '15px',\n        backgroundColor: '#f5f5f5',\n        borderRadius: '8px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: [\"Process Behaviour Analysis: \", signals.length, \" Signal(s) Detected\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: '14px',\n          color: '#666',\n          marginBottom: '10px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Signal Detection Rules (Western Electric Zone Tests):\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        style: {\n          fontSize: '12px',\n          color: '#666',\n          margin: '0',\n          paddingLeft: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Red points:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 17\n          }, this), \" Rule 1 - Points outside Natural Process Limits (high severity)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Orange points:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 17\n          }, this), \" Rules 2-3 - Pattern-based detection (moderate severity)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Light red points:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 17\n          }, this), \" Rule 4 - Sustained shifts (low severity)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: '12px',\n          color: '#666',\n          marginTop: '10px'\n        },\n        children: \"Signals indicate exceptional variation requiring investigation. Hover over points to see task details.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 9\n    }, this), signals.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '20px',\n        padding: '15px',\n        backgroundColor: '#e8f5e8',\n        borderRadius: '8px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          color: '#2e7d32'\n        },\n        children: \"Process Operating Predictably\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: '14px',\n          color: '#2e7d32',\n          margin: '0'\n        },\n        children: \"No signals detected. Your process exhibits only routine variation within Natural Process Limits, indicating predictable performance suitable for forecasting as described in Vacanti's methodology.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '20px',\n        padding: '10px',\n        backgroundColor: '#f0f8ff',\n        borderRadius: '8px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        style: {\n          color: '#1976d2',\n          margin: '0 0 5px 0'\n        },\n        children: \"Data Quality Summary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: '12px',\n          color: '#666',\n          margin: '0'\n        },\n        children: [\"\\u2705 Only \\\"Done\\\" tasks included | \\u274C \\\"Won't fix\\\" tasks excluded | \\uD83C\\uDFAF Hover over chart points to see Task Key and Task Name | \\uD83D\\uDCCA \", xChart.values.length, \" data points analyzed\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 313,\n    columnNumber: 5\n  }, this);\n};\n_c2 = PBCChart;\nexport default PBCChart;\nvar _c, _c2;\n$RefreshReg$(_c, \"FlowMetricsInsights\");\n$RefreshReg$(_c2, \"PBCChart\");","map":{"version":3,"names":["React","Line","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","Box","Typography","format","jsxDEV","_jsxDEV","register","FlowMetricsInsights","analysis","context","flowMetricsContext","sx","mt","p","bgcolor","borderRadius","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","paragraph","metricType","replace","toUpperCase","analysisGuidance","interpretation","vacanti_insights","assessment","recommendation","_c","PBCChart","showSigmaLines","title","originalData","xChart","mrChart","signals","getPointColors","dataLength","colors","Array","fill","forEach","signal","dataPoints","pointIndex","length","severity","xChartData","labels","timestamps","map","ts","Date","datasets","label","data","values","borderColor","backgroundColor","pointBackgroundColor","pointBorderColor","pointRadius","tension","average","borderDash","upperLimit","lowerLimit","sigmaLines","push","twoSigmaUpper","twoSigmaLower","oneSigmaUpper","oneSigmaLower","mrChartData","chartOptions","responsive","maintainAspectRatio","plugins","legend","position","filter","item","chart","_item$text","text","includes","tooltip","mode","intersect","callbacks","dataIndex","timestamp","task","taskKey","value","parsed","y","datasetLabel","dataset","toFixed","taskName","afterLabel","relevantSignals","type","description","scales","x","display","interaction","axis","style","width","height","textAlign","marginBottom","options","marginTop","padding","fontSize","color","margin","paddingLeft","_c2","$RefreshReg$"],"sources":["/Users/maximiliandazer/Process Control chart/Process-Control-chart/frontend/src/components/charts/PBCChart.tsx"],"sourcesContent":["import React from 'react';\nimport { Line } from 'react-chartjs-2';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n  ChartOptions,\n} from 'chart.js';\nimport { Box, Typography } from '@mui/material';\nimport { PBCAnalysis, Signal } from '../../types';\nimport { format } from 'date-fns';\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend\n);\n\ninterface PBCChartProps {\n  analysis: PBCAnalysis;\n  showSigmaLines: boolean;\n  title?: string;\n  // Enhanced props for Nave integration\n  originalData?: any[];\n}\n\n// Flow Metrics Insights component based on Vacanti's methodology\nconst FlowMetricsInsights: React.FC<{ analysis: PBCAnalysis }> = ({ analysis }) => {\n  const context = (analysis as any).flowMetricsContext;\n  \n  if (!context) return null;\n  \n  return (\n    <Box sx={{ mt: 3, p: 2, bgcolor: 'info.light', borderRadius: 1 }}>\n      <Typography variant=\"h6\" gutterBottom>\n        Flow Metrics Analysis (Vacanti Methodology)\n      </Typography>\n      \n      <Typography variant=\"body2\" paragraph>\n        <strong>Metric Type:</strong> {context.metricType.replace('_', ' ').toUpperCase()}\n      </Typography>\n      \n      <Typography variant=\"body2\" paragraph>\n        {context.analysisGuidance.interpretation}\n      </Typography>\n      \n      {context.vacanti_insights && (\n        <Box sx={{ mt: 2 }}>\n          <Typography variant=\"subtitle2\">\n            Predictability Assessment: {context.vacanti_insights.assessment}\n          </Typography>\n          <Typography variant=\"body2\">\n            {context.vacanti_insights.recommendation}\n          </Typography>\n        </Box>\n      )}\n    </Box>\n  );\n};\n\nconst PBCChart: React.FC<PBCChartProps> = ({ \n  analysis, \n  showSigmaLines = false,\n  title = \"Process Behaviour Chart (XmR)\",\n  originalData = []\n}) => {\n  const { xChart, mrChart, signals } = analysis;\n\n  // Create signal point colors based on detection rules from the document\n  const getPointColors = (dataLength: number, signals: Signal[]) => {\n    const colors = new Array(dataLength).fill('#2196F3');\n    \n    signals.forEach(signal => {\n      signal.dataPoints.forEach(pointIndex => {\n        if (pointIndex < colors.length) {\n          // Color coding based on detection rule severity as per Vacanti's methodology\n          colors[pointIndex] = signal.severity === 'high' ? '#f44336' : \n                             signal.severity === 'moderate' ? '#ff9800' : '#ff5722';\n        }\n      });\n    });\n    \n    return colors;\n  };\n\n  // X Chart (Individual Values Chart) configuration implementing Shewhart's formulas\n  const xChartData = {\n    labels: xChart.timestamps.map(ts => format(new Date(ts), 'MM/dd/yyyy')),\n    datasets: [\n      {\n        label: 'Individual Values',\n        data: xChart.values,\n        borderColor: '#2196F3',\n        backgroundColor: 'transparent',\n        pointBackgroundColor: getPointColors(xChart.values.length, signals),\n        pointBorderColor: getPointColors(xChart.values.length, signals),\n        pointRadius: 4,\n        tension: 0,\n        fill: false\n      },\n      {\n        label: 'Average (Center Line)',\n        data: Array(xChart.values.length).fill(xChart.average),\n        borderColor: '#4CAF50',\n        borderDash: [5, 5],\n        pointRadius: 0,\n        tension: 0,\n        fill: false\n      },\n      {\n        label: 'Upper Natural Process Limit (UNPL)',\n        data: Array(xChart.values.length).fill(xChart.upperLimit),\n        borderColor: '#f44336',\n        borderDash: [10, 5],\n        pointRadius: 0,\n        tension: 0,\n        fill: false\n      },\n      {\n        label: 'Lower Natural Process Limit (LNPL)',\n        data: Array(xChart.values.length).fill(xChart.lowerLimit),\n        borderColor: '#f44336',\n        borderDash: [10, 5],\n        pointRadius: 0,\n        tension: 0,\n        fill: false\n      }\n    ]\n  };\n\n  // Add sigma lines if requested (for Western Electric Zone Tests)\n  if (showSigmaLines && xChart.sigmaLines) {\n    xChartData.datasets.push(\n      {\n        label: '2-Sigma Upper',\n        data: Array(xChart.values.length).fill(xChart.sigmaLines.twoSigmaUpper),\n        borderColor: '#FF9800',\n        borderDash: [3, 3],\n        pointRadius: 0,\n        tension: 0,\n        fill: false\n      },\n      {\n        label: '2-Sigma Lower', \n        data: Array(xChart.values.length).fill(xChart.sigmaLines.twoSigmaLower),\n        borderColor: '#FF9800',\n        borderDash: [3, 3],\n        pointRadius: 0,\n        tension: 0,\n        fill: false\n      },\n      {\n        label: '1-Sigma Upper',\n        data: Array(xChart.values.length).fill(xChart.sigmaLines.oneSigmaUpper),\n        borderColor: '#9C27B0',\n        borderDash: [2, 2],\n        pointRadius: 0,\n        tension: 0,\n        fill: false\n      },\n      {\n        label: '1-Sigma Lower',\n        data: Array(xChart.values.length).fill(xChart.sigmaLines.oneSigmaLower),\n        borderColor: '#9C27B0',\n        borderDash: [2, 2],\n        pointRadius: 0,\n        tension: 0,\n        fill: false\n      }\n    );\n  }\n\n  // mR Chart (Moving Range Chart) configuration\n  const mrChartData = {\n    labels: mrChart.timestamps.map(ts => format(new Date(ts), 'MM/dd/yyyy')),\n    datasets: [\n      {\n        label: 'Moving Range',\n        data: mrChart.values,\n        borderColor: '#673AB7',\n        backgroundColor: 'transparent',\n        pointBackgroundColor: '#673AB7',\n        pointRadius: 3,\n        tension: 0,\n        fill: false\n      },\n      {\n        label: 'Average Moving Range',\n        data: Array(mrChart.values.length).fill(mrChart.average),\n        borderColor: '#4CAF50',\n        borderDash: [5, 5],\n        pointRadius: 0,\n        tension: 0,\n        fill: false\n      },\n      {\n        label: 'Upper Range Limit (URL)',\n        data: Array(mrChart.values.length).fill(mrChart.upperLimit),\n        borderColor: '#f44336',\n        borderDash: [10, 5],\n        pointRadius: 0,\n        tension: 0,\n        fill: false\n      }\n    ]\n  };\n\n  const chartOptions: ChartOptions<'line'> = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        position: 'top' as const,\n        labels: {\n          filter: function(item, chart) {\n            // Hide sigma lines from legend if not shown\n            if (!showSigmaLines && item.text?.includes('Sigma')) {\n              return false;\n            }\n            return true;\n          }\n        }\n      },\n      tooltip: {\n        mode: 'index',\n        intersect: false,\n        callbacks: {\n          // Enhanced tooltip with task information\n          title: function(context) {\n            const pointIndex = context[0].dataIndex;\n            const timestamp = context[0].label;\n            \n            // Try to get task information from original data\n            if (originalData && originalData[pointIndex]) {\n              const task = originalData[pointIndex];\n              return `${timestamp} - ${task.taskKey || 'Unknown Task'}`;\n            }\n            \n            return timestamp || '';\n          },\n          label: function(context) {\n            const pointIndex = context.dataIndex;\n            const value = context.parsed.y;\n            const datasetLabel = context.dataset.label;\n            \n            // Enhanced label for Individual Values dataset\n            if (datasetLabel === 'Individual Values') {\n              if (originalData && originalData[pointIndex]) {\n                const task = originalData[pointIndex];\n                return [\n                  `${datasetLabel}: ${value.toFixed(2)} days`,\n                  `Task: ${task.taskKey || 'Unknown'}`,\n                  `Name: ${task.taskName || 'Unnamed Task'}`,\n                  `Cycle Time: ${value.toFixed(1)} days`\n                ];\n              } else {\n                return `${datasetLabel}: ${value.toFixed(2)} days`;\n              }\n            }\n            \n            return `${datasetLabel}: ${value.toFixed(2)}`;\n          },\n          afterLabel: function(context) {\n            // Add signal information to tooltips based on detection rules\n            const pointIndex = context.dataIndex;\n            const relevantSignals = signals.filter(signal => \n              signal.dataPoints.includes(pointIndex)\n            );\n            \n            if (relevantSignals.length > 0) {\n              return relevantSignals.map(signal => \n                `🚨 Signal: ${signal.type.toUpperCase()} - ${signal.description}`\n              );\n            }\n            return [];\n          }\n        }\n      },\n    },\n    scales: {\n      x: {\n        display: true,\n        title: {\n          display: true,\n          text: 'Completion Date'\n        }\n      },\n      y: {\n        display: true,\n        title: {\n          display: true,\n          text: 'Cycle Time (Days)'\n        }\n      }\n    },\n    interaction: {\n      mode: 'nearest',\n      axis: 'x',\n      intersect: false\n    }\n  };\n\n  return (\n    <div style={{ width: '100%', height: '900px' }}>\n      <h3 style={{ textAlign: 'center', marginBottom: '20px' }}>{title}</h3>\n      \n      {/* X Chart (Individual Values) */}\n      <div style={{ height: '400px', marginBottom: '20px' }}>\n        <h4 style={{ textAlign: 'center', marginBottom: '10px' }}>\n          Individual Values Chart (X Chart) - Cycle Time Analysis\n        </h4>\n        <div style={{ height: '350px' }}>\n          <Line data={xChartData} options={chartOptions} />\n        </div>\n      </div>\n      \n      {/* mR Chart (Moving Range) */}\n      <div style={{ height: '300px', marginBottom: '20px' }}>\n        <h4 style={{ textAlign: 'center', marginBottom: '10px' }}>\n          Moving Range Chart (mR Chart) - Process Variation\n        </h4>\n        <div style={{ height: '250px' }}>\n          <Line data={mrChartData} options={chartOptions} />\n        </div>\n      </div>\n\n      {/* Flow Metrics Insights Component */}\n      <FlowMetricsInsights analysis={analysis} />\n\n      {/* Enhanced Signal Summary */}\n      {signals.length > 0 && (\n        <div style={{ marginTop: '20px', padding: '15px', backgroundColor: '#f5f5f5', borderRadius: '8px' }}>\n          <h4>Process Behaviour Analysis: {signals.length} Signal(s) Detected</h4>\n          <p style={{ fontSize: '14px', color: '#666', marginBottom: '10px' }}>\n            <strong>Signal Detection Rules (Western Electric Zone Tests):</strong>\n          </p>\n          <ul style={{ fontSize: '12px', color: '#666', margin: '0', paddingLeft: '20px' }}>\n            <li><strong>Red points:</strong> Rule 1 - Points outside Natural Process Limits (high severity)</li>\n            <li><strong>Orange points:</strong> Rules 2-3 - Pattern-based detection (moderate severity)</li>\n            <li><strong>Light red points:</strong> Rule 4 - Sustained shifts (low severity)</li>\n          </ul>\n          <p style={{ fontSize: '12px', color: '#666', marginTop: '10px' }}>\n            Signals indicate exceptional variation requiring investigation. Hover over points to see task details.\n          </p>\n        </div>\n      )}\n\n      {/* Predictability Assessment */}\n      {signals.length === 0 && (\n        <div style={{ marginTop: '20px', padding: '15px', backgroundColor: '#e8f5e8', borderRadius: '8px' }}>\n          <h4 style={{ color: '#2e7d32' }}>Process Operating Predictably</h4>\n          <p style={{ fontSize: '14px', color: '#2e7d32', margin: '0' }}>\n            No signals detected. Your process exhibits only routine variation within Natural Process Limits, \n            indicating predictable performance suitable for forecasting as described in Vacanti's methodology.\n          </p>\n        </div>\n      )}\n\n      {/* Data Quality Information */}\n      <div style={{ marginTop: '20px', padding: '10px', backgroundColor: '#f0f8ff', borderRadius: '8px' }}>\n        <h5 style={{ color: '#1976d2', margin: '0 0 5px 0' }}>Data Quality Summary</h5>\n        <p style={{ fontSize: '12px', color: '#666', margin: '0' }}>\n          ✅ Only \"Done\" tasks included | ❌ \"Won't fix\" tasks excluded | \n          🎯 Hover over chart points to see Task Key and Task Name | \n          📊 {xChart.values.length} data points analyzed\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default PBCChart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}