{"ast":null,"code":"var _jsxFileName = \"/Users/maximiliandazer/Process Control chart/Process-Control-chart/frontend/src/components/charts/PBCChart.tsx\";\nimport React from 'react';\nimport { Line } from 'react-chartjs-2';\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend } from 'chart.js';\nimport { Box, Typography, Grid, Paper } from '@mui/material';\nimport { format } from 'date-fns';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend);\n// Flow Metrics Insights component based on Vacanti's methodology\nconst FlowMetricsInsights = ({\n  analysis\n}) => {\n  const context = analysis.flowMetricsContext;\n  if (!context) return null;\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    elevation: 2,\n    sx: {\n      mt: 3,\n      p: 3\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      gutterBottom: true,\n      children: \"Flow Metrics Analysis (Vacanti Methodology)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body2\",\n      paragraph: true,\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Metric Type:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), \" \", context.metricType.replace('_', ' ').toUpperCase()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body2\",\n      paragraph: true,\n      children: context.analysisGuidance.interpretation\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), context.vacanti_insights && /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mt: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"subtitle2\",\n        children: [\"Predictability Assessment: \", context.vacanti_insights.assessment]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        children: context.vacanti_insights.recommendation\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n_c = FlowMetricsInsights;\nconst PBCChart = ({\n  analysis,\n  showSigmaLines = false,\n  title = \"Process Behaviour Chart (XmR)\",\n  originalData = []\n}) => {\n  const {\n    xChart,\n    mrChart,\n    signals\n  } = analysis;\n\n  // Create signal point colors based on detection rules from the document\n  const getPointColors = (dataLength, signals) => {\n    const colors = new Array(dataLength).fill('#2196F3');\n    signals.forEach(signal => {\n      signal.dataPoints.forEach(pointIndex => {\n        if (pointIndex < colors.length) {\n          // Color coding based on detection rule severity as per Vacanti's methodology\n          colors[pointIndex] = signal.severity === 'high' ? '#f44336' : signal.severity === 'moderate' ? '#ff9800' : '#ff5722';\n        }\n      });\n    });\n    return colors;\n  };\n\n  // Enhanced tooltip configuration for both X and mR charts\n  const createTooltipCallbacks = chartType => ({\n    title: function (context) {\n      const pointIndex = context[0].dataIndex;\n      const timestamp = context[0].label;\n\n      // For mR chart, we need to adjust the index since it has one less data point\n      const dataIndex = chartType === 'mr' ? pointIndex + 1 : pointIndex;\n      if (originalData && originalData[dataIndex]) {\n        const task = originalData[dataIndex];\n        return `${timestamp} - ${task.taskKey || 'Unknown Task'}`;\n      }\n      return timestamp || '';\n    },\n    label: function (context) {\n      const pointIndex = context.dataIndex;\n      const value = context.parsed.y;\n      const datasetLabel = context.dataset.label;\n\n      // For mR chart, adjust the index\n      const dataIndex = chartType === 'mr' ? pointIndex + 1 : pointIndex;\n\n      // Enhanced label based on chart type\n      if (datasetLabel === 'Individual Values' || datasetLabel === 'Moving Range') {\n        if (originalData && originalData[dataIndex]) {\n          const task = originalData[dataIndex];\n          if (chartType === 'x') {\n            return [`${datasetLabel}: ${value.toFixed(2)} days`, `Task: ${task.taskKey || 'Unknown'}`, `Name: ${task.taskName || 'Unnamed Task'}`, `Cycle Time: ${value.toFixed(1)} days`];\n          } else {\n            // For mR chart, show the moving range between current and previous task\n            const prevTask = originalData[dataIndex - 1];\n            return [`${datasetLabel}: ${value.toFixed(2)} days`, `Between: ${(prevTask === null || prevTask === void 0 ? void 0 : prevTask.taskKey) || 'Unknown'} ‚Üí ${task.taskKey || 'Unknown'}`, `Current Task: ${task.taskName || 'Unnamed Task'}`, `Range: ${value.toFixed(2)} days difference`];\n          }\n        } else {\n          return `${datasetLabel}: ${value.toFixed(2)} days`;\n        }\n      }\n      return `${datasetLabel}: ${value.toFixed(2)}`;\n    },\n    afterLabel: function (context) {\n      // Add signal information to tooltips based on detection rules\n      const pointIndex = context.dataIndex;\n      const dataIndex = chartType === 'mr' ? pointIndex + 1 : pointIndex;\n      const relevantSignals = signals.filter(signal => signal.dataPoints.includes(dataIndex));\n      if (relevantSignals.length > 0) {\n        return relevantSignals.map(signal => `üö® Signal: ${signal.type.toUpperCase()} - ${signal.description}`);\n      }\n      return [];\n    }\n  });\n\n  // X Chart (Individual Values Chart) configuration implementing Shewhart's formulas\n  const xChartData = {\n    labels: xChart.timestamps.map(ts => format(new Date(ts), 'MM/dd/yyyy')),\n    datasets: [{\n      label: 'Individual Values',\n      data: xChart.values,\n      borderColor: '#2196F3',\n      backgroundColor: 'transparent',\n      pointBackgroundColor: getPointColors(xChart.values.length, signals),\n      pointBorderColor: getPointColors(xChart.values.length, signals),\n      pointRadius: 4,\n      tension: 0,\n      fill: false\n    }, {\n      label: 'Average (Center Line)',\n      data: Array(xChart.values.length).fill(xChart.average),\n      borderColor: '#4CAF50',\n      borderDash: [5, 5],\n      pointRadius: 0,\n      tension: 0,\n      fill: false\n    }, {\n      label: 'Upper Natural Process Limit (UNPL)',\n      data: Array(xChart.values.length).fill(xChart.upperLimit),\n      borderColor: '#f44336',\n      borderDash: [10, 5],\n      pointRadius: 0,\n      tension: 0,\n      fill: false\n    }, {\n      label: 'Lower Natural Process Limit (LNPL)',\n      data: Array(xChart.values.length).fill(xChart.lowerLimit),\n      borderColor: '#f44336',\n      borderDash: [10, 5],\n      pointRadius: 0,\n      tension: 0,\n      fill: false\n    }]\n  };\n\n  // Add sigma lines if requested (for Western Electric Zone Tests)\n  if (showSigmaLines && xChart.sigmaLines) {\n    xChartData.datasets.push({\n      label: '2-Sigma Upper',\n      data: Array(xChart.values.length).fill(xChart.sigmaLines.twoSigmaUpper),\n      borderColor: '#FF9800',\n      borderDash: [3, 3],\n      pointRadius: 0,\n      tension: 0,\n      fill: false\n    }, {\n      label: '2-Sigma Lower',\n      data: Array(xChart.values.length).fill(xChart.sigmaLines.twoSigmaLower),\n      borderColor: '#FF9800',\n      borderDash: [3, 3],\n      pointRadius: 0,\n      tension: 0,\n      fill: false\n    }, {\n      label: '1-Sigma Upper',\n      data: Array(xChart.values.length).fill(xChart.sigmaLines.oneSigmaUpper),\n      borderColor: '#9C27B0',\n      borderDash: [2, 2],\n      pointRadius: 0,\n      tension: 0,\n      fill: false\n    }, {\n      label: '1-Sigma Lower',\n      data: Array(xChart.values.length).fill(xChart.sigmaLines.oneSigmaLower),\n      borderColor: '#9C27B0',\n      borderDash: [2, 2],\n      pointRadius: 0,\n      tension: 0,\n      fill: false\n    });\n  }\n\n  // mR Chart (Moving Range Chart) configuration with enhanced tooltips\n  const mrChartData = {\n    labels: mrChart.timestamps.map(ts => format(new Date(ts), 'MM/dd/yyyy')),\n    datasets: [{\n      label: 'Moving Range',\n      data: mrChart.values,\n      borderColor: '#673AB7',\n      backgroundColor: 'transparent',\n      pointBackgroundColor: '#673AB7',\n      pointRadius: 4,\n      // Increased for better visibility\n      tension: 0,\n      fill: false\n    }, {\n      label: 'Average Moving Range',\n      data: Array(mrChart.values.length).fill(mrChart.average),\n      borderColor: '#4CAF50',\n      borderDash: [5, 5],\n      pointRadius: 0,\n      tension: 0,\n      fill: false\n    }, {\n      label: 'Upper Range Limit (URL)',\n      data: Array(mrChart.values.length).fill(mrChart.upperLimit),\n      borderColor: '#f44336',\n      borderDash: [10, 5],\n      pointRadius: 0,\n      tension: 0,\n      fill: false\n    }]\n  };\n  const xChartOptions = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        position: 'top',\n        labels: {\n          filter: function (item, chart) {\n            var _item$text;\n            if (!showSigmaLines && (_item$text = item.text) !== null && _item$text !== void 0 && _item$text.includes('Sigma')) {\n              return false;\n            }\n            return true;\n          }\n        }\n      },\n      tooltip: {\n        mode: 'index',\n        intersect: false,\n        callbacks: createTooltipCallbacks('x')\n      }\n    },\n    scales: {\n      x: {\n        display: true,\n        title: {\n          display: true,\n          text: 'Completion Date'\n        }\n      },\n      y: {\n        display: true,\n        title: {\n          display: true,\n          text: 'Cycle Time (Days)'\n        }\n      }\n    },\n    interaction: {\n      mode: 'nearest',\n      axis: 'x',\n      intersect: false\n    }\n  };\n  const mrChartOptions = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        position: 'top'\n      },\n      tooltip: {\n        mode: 'index',\n        intersect: false,\n        callbacks: createTooltipCallbacks('mr')\n      }\n    },\n    scales: {\n      x: {\n        display: true,\n        title: {\n          display: true,\n          text: 'Completion Date'\n        }\n      },\n      y: {\n        display: true,\n        title: {\n          display: true,\n          text: 'Moving Range (Days)'\n        }\n      }\n    },\n    interaction: {\n      mode: 'nearest',\n      axis: 'x',\n      intersect: false\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      width: '100%',\n      mb: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      component: \"h3\",\n      align: \"center\",\n      gutterBottom: true,\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 2,\n      sx: {\n        p: 3,\n        mb: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        component: \"h4\",\n        align: \"center\",\n        gutterBottom: true,\n        children: \"Individual Values Chart (X Chart) - Cycle Time Analysis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          height: '400px'\n        },\n        children: /*#__PURE__*/_jsxDEV(Line, {\n          data: xChartData,\n          options: xChartOptions\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 2,\n      sx: {\n        p: 3,\n        mb: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        component: \"h4\",\n        align: \"center\",\n        gutterBottom: true,\n        children: \"Moving Range Chart (mR Chart) - Process Variation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          height: '350px'\n        },\n        children: /*#__PURE__*/_jsxDEV(Line, {\n          data: mrChartData,\n          options: mrChartOptions\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FlowMetricsInsights, {\n      analysis: analysis\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 7\n    }, this), signals.length > 0 && /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 2,\n      sx: {\n        p: 3,\n        mt: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        gutterBottom: true,\n        children: [\"Process Behaviour Analysis: \", signals.length, \" Signal(s) Detected\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        color: \"text.secondary\",\n        paragraph: true,\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Signal Detection Rules (Western Electric Zone Tests):\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 2,\n        sx: {\n          mb: 3\n        },\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 4,\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                width: 12,\n                height: 12,\n                bgcolor: '#f44336',\n                borderRadius: '50%'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              children: \"Rule 1 - Outside Limits (High)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 4,\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                width: 12,\n                height: 12,\n                bgcolor: '#ff9800',\n                borderRadius: '50%'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              children: \"Rules 2-3 - Patterns (Moderate)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 4,\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                width: 12,\n                height: 12,\n                bgcolor: '#ff5722',\n                borderRadius: '50%'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              children: \"Rule 4 - Shifts (Low)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        color: \"text.secondary\",\n        paragraph: true,\n        children: \"Signals indicate exceptional variation requiring investigation. Hover over points to see task details.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 9\n    }, this), signals.length === 0 && /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 2,\n      sx: {\n        p: 3,\n        mt: 3,\n        bgcolor: 'success.light'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        color: \"success.dark\",\n        gutterBottom: true,\n        children: \"Process Operating Predictably\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 438,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        color: \"success.dark\",\n        children: \"No signals detected. Your process exhibits only routine variation within Natural Process Limits, indicating predictable performance suitable for forecasting as described in Vacanti's methodology.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 437,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 1,\n      sx: {\n        p: 2,\n        mt: 3,\n        bgcolor: 'info.light'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        color: \"info.dark\",\n        gutterBottom: true,\n        children: \"Data Quality Summary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 2,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          md: 3,\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"info.dark\",\n            children: \"\\u2705 Only \\\"Done\\\" tasks included\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          md: 3,\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"info.dark\",\n            children: \"\\u274C \\\"Won't fix\\\" tasks excluded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          md: 3,\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"info.dark\",\n            children: \"\\uD83C\\uDFAF Enhanced tooltips with task details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          md: 3,\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"info.dark\",\n            children: [\"\\uD83D\\uDCCA \", xChart.values.length, \" data points analyzed\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 449,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 369,\n    columnNumber: 5\n  }, this);\n};\n_c2 = PBCChart;\nexport default PBCChart;\nvar _c, _c2;\n$RefreshReg$(_c, \"FlowMetricsInsights\");\n$RefreshReg$(_c2, \"PBCChart\");","map":{"version":3,"names":["React","Line","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","Box","Typography","Grid","Paper","format","jsxDEV","_jsxDEV","register","FlowMetricsInsights","analysis","context","flowMetricsContext","elevation","sx","mt","p","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","paragraph","metricType","replace","toUpperCase","analysisGuidance","interpretation","vacanti_insights","assessment","recommendation","_c","PBCChart","showSigmaLines","title","originalData","xChart","mrChart","signals","getPointColors","dataLength","colors","Array","fill","forEach","signal","dataPoints","pointIndex","length","severity","createTooltipCallbacks","chartType","dataIndex","timestamp","label","task","taskKey","value","parsed","y","datasetLabel","dataset","toFixed","taskName","prevTask","afterLabel","relevantSignals","filter","includes","map","type","description","xChartData","labels","timestamps","ts","Date","datasets","data","values","borderColor","backgroundColor","pointBackgroundColor","pointBorderColor","pointRadius","tension","average","borderDash","upperLimit","lowerLimit","sigmaLines","push","twoSigmaUpper","twoSigmaLower","oneSigmaUpper","oneSigmaLower","mrChartData","xChartOptions","responsive","maintainAspectRatio","plugins","legend","position","item","chart","_item$text","text","tooltip","mode","intersect","callbacks","scales","x","display","interaction","axis","mrChartOptions","width","mb","component","align","height","options","color","container","spacing","xs","sm","alignItems","gap","bgcolor","borderRadius","md","_c2","$RefreshReg$"],"sources":["/Users/maximiliandazer/Process Control chart/Process-Control-chart/frontend/src/components/charts/PBCChart.tsx"],"sourcesContent":["import React from 'react';\nimport { Line } from 'react-chartjs-2';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n  ChartOptions,\n} from 'chart.js';\nimport { Box, Typography, Grid, Paper, Divider } from '@mui/material';\nimport { PBCAnalysis, Signal } from '../../types';\nimport { format } from 'date-fns';\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend\n);\n\ninterface PBCChartProps {\n  analysis: PBCAnalysis;\n  showSigmaLines: boolean;\n  title?: string;\n  // Enhanced props for Nave integration\n  originalData?: any[];\n}\n\n// Flow Metrics Insights component based on Vacanti's methodology\nconst FlowMetricsInsights: React.FC<{ analysis: PBCAnalysis }> = ({ analysis }) => {\n  const context = (analysis as any).flowMetricsContext;\n  \n  if (!context) return null;\n  \n  return (\n    <Paper elevation={2} sx={{ mt: 3, p: 3 }}>\n      <Typography variant=\"h6\" gutterBottom>\n        Flow Metrics Analysis (Vacanti Methodology)\n      </Typography>\n      \n      <Typography variant=\"body2\" paragraph>\n        <strong>Metric Type:</strong> {context.metricType.replace('_', ' ').toUpperCase()}\n      </Typography>\n      \n      <Typography variant=\"body2\" paragraph>\n        {context.analysisGuidance.interpretation}\n      </Typography>\n      \n      {context.vacanti_insights && (\n        <Box sx={{ mt: 2 }}>\n          <Typography variant=\"subtitle2\">\n            Predictability Assessment: {context.vacanti_insights.assessment}\n          </Typography>\n          <Typography variant=\"body2\">\n            {context.vacanti_insights.recommendation}\n          </Typography>\n        </Box>\n      )}\n    </Paper>\n  );\n};\n\nconst PBCChart: React.FC<PBCChartProps> = ({ \n  analysis, \n  showSigmaLines = false,\n  title = \"Process Behaviour Chart (XmR)\",\n  originalData = []\n}) => {\n  const { xChart, mrChart, signals } = analysis;\n\n  // Create signal point colors based on detection rules from the document\n  const getPointColors = (dataLength: number, signals: Signal[]) => {\n    const colors = new Array(dataLength).fill('#2196F3');\n    \n    signals.forEach(signal => {\n      signal.dataPoints.forEach(pointIndex => {\n        if (pointIndex < colors.length) {\n          // Color coding based on detection rule severity as per Vacanti's methodology\n          colors[pointIndex] = signal.severity === 'high' ? '#f44336' : \n                             signal.severity === 'moderate' ? '#ff9800' : '#ff5722';\n        }\n      });\n    });\n    \n    return colors;\n  };\n\n  // Enhanced tooltip configuration for both X and mR charts\n  const createTooltipCallbacks = (chartType: 'x' | 'mr') => ({\n    title: function(context: any) {\n      const pointIndex = context[0].dataIndex;\n      const timestamp = context[0].label;\n      \n      // For mR chart, we need to adjust the index since it has one less data point\n      const dataIndex = chartType === 'mr' ? pointIndex + 1 : pointIndex;\n      \n      if (originalData && originalData[dataIndex]) {\n        const task = originalData[dataIndex];\n        return `${timestamp} - ${task.taskKey || 'Unknown Task'}`;\n      }\n      \n      return timestamp || '';\n    },\n    label: function(context: any) {\n      const pointIndex = context.dataIndex;\n      const value = context.parsed.y;\n      const datasetLabel = context.dataset.label;\n      \n      // For mR chart, adjust the index\n      const dataIndex = chartType === 'mr' ? pointIndex + 1 : pointIndex;\n      \n      // Enhanced label based on chart type\n      if (datasetLabel === 'Individual Values' || datasetLabel === 'Moving Range') {\n        if (originalData && originalData[dataIndex]) {\n          const task = originalData[dataIndex];\n          \n          if (chartType === 'x') {\n            return [\n              `${datasetLabel}: ${value.toFixed(2)} days`,\n              `Task: ${task.taskKey || 'Unknown'}`,\n              `Name: ${task.taskName || 'Unnamed Task'}`,\n              `Cycle Time: ${value.toFixed(1)} days`\n            ];\n          } else {\n            // For mR chart, show the moving range between current and previous task\n            const prevTask = originalData[dataIndex - 1];\n            return [\n              `${datasetLabel}: ${value.toFixed(2)} days`,\n              `Between: ${prevTask?.taskKey || 'Unknown'} ‚Üí ${task.taskKey || 'Unknown'}`,\n              `Current Task: ${task.taskName || 'Unnamed Task'}`,\n              `Range: ${value.toFixed(2)} days difference`\n            ];\n          }\n        } else {\n          return `${datasetLabel}: ${value.toFixed(2)} days`;\n        }\n      }\n      \n      return `${datasetLabel}: ${value.toFixed(2)}`;\n    },\n    afterLabel: function(context: any) {\n      // Add signal information to tooltips based on detection rules\n      const pointIndex = context.dataIndex;\n      const dataIndex = chartType === 'mr' ? pointIndex + 1 : pointIndex;\n      \n      const relevantSignals = signals.filter(signal => \n        signal.dataPoints.includes(dataIndex)\n      );\n      \n      if (relevantSignals.length > 0) {\n        return relevantSignals.map(signal => \n          `üö® Signal: ${signal.type.toUpperCase()} - ${signal.description}`\n        );\n      }\n      return [];\n    }\n  });\n\n  // X Chart (Individual Values Chart) configuration implementing Shewhart's formulas\n  const xChartData = {\n    labels: xChart.timestamps.map(ts => format(new Date(ts), 'MM/dd/yyyy')),\n    datasets: [\n      {\n        label: 'Individual Values',\n        data: xChart.values,\n        borderColor: '#2196F3',\n        backgroundColor: 'transparent',\n        pointBackgroundColor: getPointColors(xChart.values.length, signals),\n        pointBorderColor: getPointColors(xChart.values.length, signals),\n        pointRadius: 4,\n        tension: 0,\n        fill: false\n      },\n      {\n        label: 'Average (Center Line)',\n        data: Array(xChart.values.length).fill(xChart.average),\n        borderColor: '#4CAF50',\n        borderDash: [5, 5],\n        pointRadius: 0,\n        tension: 0,\n        fill: false\n      },\n      {\n        label: 'Upper Natural Process Limit (UNPL)',\n        data: Array(xChart.values.length).fill(xChart.upperLimit),\n        borderColor: '#f44336',\n        borderDash: [10, 5],\n        pointRadius: 0,\n        tension: 0,\n        fill: false\n      },\n      {\n        label: 'Lower Natural Process Limit (LNPL)',\n        data: Array(xChart.values.length).fill(xChart.lowerLimit),\n        borderColor: '#f44336',\n        borderDash: [10, 5],\n        pointRadius: 0,\n        tension: 0,\n        fill: false\n      }\n    ]\n  };\n\n  // Add sigma lines if requested (for Western Electric Zone Tests)\n  if (showSigmaLines && xChart.sigmaLines) {\n    xChartData.datasets.push(\n      {\n        label: '2-Sigma Upper',\n        data: Array(xChart.values.length).fill(xChart.sigmaLines.twoSigmaUpper),\n        borderColor: '#FF9800',\n        borderDash: [3, 3],\n        pointRadius: 0,\n        tension: 0,\n        fill: false\n      },\n      {\n        label: '2-Sigma Lower', \n        data: Array(xChart.values.length).fill(xChart.sigmaLines.twoSigmaLower),\n        borderColor: '#FF9800',\n        borderDash: [3, 3],\n        pointRadius: 0,\n        tension: 0,\n        fill: false\n      },\n      {\n        label: '1-Sigma Upper',\n        data: Array(xChart.values.length).fill(xChart.sigmaLines.oneSigmaUpper),\n        borderColor: '#9C27B0',\n        borderDash: [2, 2],\n        pointRadius: 0,\n        tension: 0,\n        fill: false\n      },\n      {\n        label: '1-Sigma Lower',\n        data: Array(xChart.values.length).fill(xChart.sigmaLines.oneSigmaLower),\n        borderColor: '#9C27B0',\n        borderDash: [2, 2],\n        pointRadius: 0,\n        tension: 0,\n        fill: false\n      }\n    );\n  }\n\n  // mR Chart (Moving Range Chart) configuration with enhanced tooltips\n  const mrChartData = {\n    labels: mrChart.timestamps.map(ts => format(new Date(ts), 'MM/dd/yyyy')),\n    datasets: [\n      {\n        label: 'Moving Range',\n        data: mrChart.values,\n        borderColor: '#673AB7',\n        backgroundColor: 'transparent',\n        pointBackgroundColor: '#673AB7',\n        pointRadius: 4, // Increased for better visibility\n        tension: 0,\n        fill: false\n      },\n      {\n        label: 'Average Moving Range',\n        data: Array(mrChart.values.length).fill(mrChart.average),\n        borderColor: '#4CAF50',\n        borderDash: [5, 5],\n        pointRadius: 0,\n        tension: 0,\n        fill: false\n      },\n      {\n        label: 'Upper Range Limit (URL)',\n        data: Array(mrChart.values.length).fill(mrChart.upperLimit),\n        borderColor: '#f44336',\n        borderDash: [10, 5],\n        pointRadius: 0,\n        tension: 0,\n        fill: false\n      }\n    ]\n  };\n\n  const xChartOptions: ChartOptions<'line'> = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        position: 'top' as const,\n        labels: {\n          filter: function(item, chart) {\n            if (!showSigmaLines && item.text?.includes('Sigma')) {\n              return false;\n            }\n            return true;\n          }\n        }\n      },\n      tooltip: {\n        mode: 'index',\n        intersect: false,\n        callbacks: createTooltipCallbacks('x')\n      },\n    },\n    scales: {\n      x: {\n        display: true,\n        title: {\n          display: true,\n          text: 'Completion Date'\n        }\n      },\n      y: {\n        display: true,\n        title: {\n          display: true,\n          text: 'Cycle Time (Days)'\n        }\n      }\n    },\n    interaction: {\n      mode: 'nearest',\n      axis: 'x',\n      intersect: false\n    }\n  };\n\n  const mrChartOptions: ChartOptions<'line'> = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        position: 'top' as const,\n      },\n      tooltip: {\n        mode: 'index',\n        intersect: false,\n        callbacks: createTooltipCallbacks('mr')\n      },\n    },\n    scales: {\n      x: {\n        display: true,\n        title: {\n          display: true,\n          text: 'Completion Date'\n        }\n      },\n      y: {\n        display: true,\n        title: {\n          display: true,\n          text: 'Moving Range (Days)'\n        }\n      }\n    },\n    interaction: {\n      mode: 'nearest',\n      axis: 'x',\n      intersect: false\n    }\n  };\n\n  return (\n    <Box sx={{ width: '100%', mb: 4 }}>\n      <Typography variant=\"h4\" component=\"h3\" align=\"center\" gutterBottom>\n        {title}\n      </Typography>\n      \n      {/* X Chart (Individual Values) */}\n      <Paper elevation={2} sx={{ p: 3, mb: 4 }}>\n        <Typography variant=\"h5\" component=\"h4\" align=\"center\" gutterBottom>\n          Individual Values Chart (X Chart) - Cycle Time Analysis\n        </Typography>\n        <Box sx={{ height: '400px' }}>\n          <Line data={xChartData} options={xChartOptions} />\n        </Box>\n      </Paper>\n      \n      {/* mR Chart (Moving Range) */}\n      <Paper elevation={2} sx={{ p: 3, mb: 4 }}>\n        <Typography variant=\"h5\" component=\"h4\" align=\"center\" gutterBottom>\n          Moving Range Chart (mR Chart) - Process Variation\n        </Typography>\n        <Box sx={{ height: '350px' }}>\n          <Line data={mrChartData} options={mrChartOptions} />\n        </Box>\n      </Paper>\n\n      {/* Flow Metrics Insights Component */}\n      <FlowMetricsInsights analysis={analysis} />\n\n      {/* Enhanced Signal Summary with better layout */}\n      {signals.length > 0 && (\n        <Paper elevation={2} sx={{ p: 3, mt: 3 }}>\n          <Typography variant=\"h5\" gutterBottom>\n            Process Behaviour Analysis: {signals.length} Signal(s) Detected\n          </Typography>\n          \n          <Typography variant=\"body2\" color=\"text.secondary\" paragraph>\n            <strong>Signal Detection Rules (Western Electric Zone Tests):</strong>\n          </Typography>\n          \n          <Grid container spacing={2} sx={{ mb: 3 }}>\n            <Grid item xs={12} sm={4}>\n              <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                <Box sx={{ width: 12, height: 12, bgcolor: '#f44336', borderRadius: '50%' }} />\n                <Typography variant=\"body2\">Rule 1 - Outside Limits (High)</Typography>\n              </Box>\n            </Grid>\n            <Grid item xs={12} sm={4}>\n              <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                <Box sx={{ width: 12, height: 12, bgcolor: '#ff9800', borderRadius: '50%' }} />\n                <Typography variant=\"body2\">Rules 2-3 - Patterns (Moderate)</Typography>\n              </Box>\n            </Grid>\n            <Grid item xs={12} sm={4}>\n              <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                <Box sx={{ width: 12, height: 12, bgcolor: '#ff5722', borderRadius: '50%' }} />\n                <Typography variant=\"body2\">Rule 4 - Shifts (Low)</Typography>\n              </Box>\n            </Grid>\n          </Grid>\n          \n          <Typography variant=\"body2\" color=\"text.secondary\" paragraph>\n            Signals indicate exceptional variation requiring investigation. Hover over points to see task details.\n          </Typography>\n        </Paper>\n      )}\n\n      {/* Predictability Assessment */}\n      {signals.length === 0 && (\n        <Paper elevation={2} sx={{ p: 3, mt: 3, bgcolor: 'success.light' }}>\n          <Typography variant=\"h5\" color=\"success.dark\" gutterBottom>\n            Process Operating Predictably\n          </Typography>\n          <Typography variant=\"body1\" color=\"success.dark\">\n            No signals detected. Your process exhibits only routine variation within Natural Process Limits, \n            indicating predictable performance suitable for forecasting as described in Vacanti's methodology.\n          </Typography>\n        </Paper>\n      )}\n\n      {/* Data Quality Information - Separated and organized */}\n      <Paper elevation={1} sx={{ p: 2, mt: 3, bgcolor: 'info.light' }}>\n        <Typography variant=\"h6\" color=\"info.dark\" gutterBottom>\n          Data Quality Summary\n        </Typography>\n        <Grid container spacing={2}>\n          <Grid item xs={12} sm={6} md={3}>\n            <Typography variant=\"body2\" color=\"info.dark\">\n              ‚úÖ Only \"Done\" tasks included\n            </Typography>\n          </Grid>\n          <Grid item xs={12} sm={6} md={3}>\n            <Typography variant=\"body2\" color=\"info.dark\">\n              ‚ùå \"Won't fix\" tasks excluded\n            </Typography>\n          </Grid>\n          <Grid item xs={12} sm={6} md={3}>\n            <Typography variant=\"body2\" color=\"info.dark\">\n              üéØ Enhanced tooltips with task details\n            </Typography>\n          </Grid>\n          <Grid item xs={12} sm={6} md={3}>\n            <Typography variant=\"body2\" color=\"info.dark\">\n              üìä {xChart.values.length} data points analyzed\n            </Typography>\n          </Grid>\n        </Grid>\n      </Paper>\n    </Box>\n  );\n};\n\nexport default PBCChart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}